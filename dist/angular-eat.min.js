/*! angular-eat 08-02-2016 */
!function(){angular.module("eat.components",["eat.components.group","eat.components.group.fast","eat.components.memorableDate","eat.components.money"])}(),function(){function a(a){function b(b,c){var d=angular.element("<eat-group/>"),e=angular.element("<label>");e.html(c.label),d.append(e);var f;a.HTML_INPUT_TYPES.indexOf(c.input)>-1?(f=angular.element("<input/>"),f.attr("type",c.input)):f=angular.element("<"+c.input+"/>");var g=c;angular.forEach(c.$attr,function(c){b.removeAttr(c),-1==a.ATTRS_TO_SKIP.indexOf(c)&&f.attr(c,g[g.$normalize(c)])}),d.append(f);var h=angular.element("<eat-help/>");h.html(c.help),d.append(h);var i=angular.element("<eat-messages/>");d.append(i),b.append(d)}return{restrict:"E",compile:b}}angular.module("eat.components.group.fast",[]).constant("constants",{HTML_INPUT_TYPES:"button checkbox color date datetime datetime-local email file hidden image month number password radio range reset search submit tel text time url week",ATTRS_TO_SKIP:"label help input"}).directive("eatGroupFast",a),a.$inject=["constants"]}(),function(){function a(a){function b(b,c,d,e){var f=e[0],g=e[1];if(f&&(g.formCtrl=f,!f.$name)){var h="form_"+a.nextUid(),i=a.getClosest(c[0],"form");angular.element(i).attr("name",h),f.$name=h}c.addClass("eat-group")}function c(a,b,c){function d(c){k.isValid=!c,c?a.addClass(b,"eat-group-invalid"):a.removeClass(b,"eat-group-invalid")}function e(c){k.isValid=c,c?a.addClass(b,"eat-group-valid"):a.removeClass(b,"eat-group-valid")}function f(a){b.toggleClass("eat-group-focused",!!a)}function g(a){b.toggleClass("eat-group-required",!!a)}function h(a){k.input=a}function i(a){k.ngModel=a}function j(){return k.formCtrl?k.formCtrl.$submitted:!1}var k=this;k.setInvalid=d,k.setFocused=f,k.setRequired=g,k.setValid=e,k.isFormSubmitted=j,k.input=null,k.setInput=h,k.formCtrl=null,k.isValid=!1,k.ngModel=null,k.setNgModel=i}return{restrict:"EA",link:b,controller:c,controllerAs:"ctrl",require:["?^form","eatGroup"]}}function b(){function a(a,b,c,d){if(b.addClass("eat-input-buffet"),0==d.length)throw Error("eat-input-buffet must be inside an eat-group");var e=d[0],f=d[1];f.parent=e}function b(){}return{restrict:"EA",link:a,controller:b,controllerAs:"ctrl",require:["^eatGroup","eatInputBuffet"]}}function c(a){function b(b,c,d,e){function f(a){return h.setInvalid(i.$isEmpty(a),c[0].id),a}function g(){h.setInvalid(0==c.val().length||(c[0].validity||{}).badInput,c[0].id)}var h=e[0];if(!h)throw Error("eat-input must be inside an eat-group");var i=e[1],j=e[2];c.addClass("eat-input");var k=angular.isDefined(d.readonly),l=angular.isDefined(d.required);h.setRequired(l);var m=c.attr("id");m||(m="input_"+a.nextUid(),c.attr("id",m)),c.attr("name")||c.attr("name",m),k||c.on("focus",function(a){h.setFocused(!0)}).on("blur",function(a){h.setFocused(!1),j||g()}),j||(h.setInput(c[0]),h.setNgModel(i),i.$parsers.push(f))}function c(){}return{restrict:"E",link:b,controller:c,controllerAs:"ctrl",require:["^eatGroup","?ngModel","^?eatInputBuffet"]}}function d(){function a(a,b){b.addClass("eat-label")}function b(){}return{restrict:"E",link:a,controller:b,controllerAs:"ctrl"}}function e(){function a(a,b){b.addClass("eat-help")}function b(){}return{restrict:"E",link:a,controller:b}}function f(){function a(a,b,c,d){var e=d[0],f=function(){return e.ngModel.$touched||e.formCtrl.$submitted?e.ngModel.$error:null};a.$watch(f,function(b){a.errorModel=b})}function b(){}return{restrict:"E",scope:{},template:'<div class="eat-messages" ng-messages="errorModel"><div ng-messages-include="eat-error-messages"></div></div>',link:a,controller:b,require:["^eatGroup"]}}angular.module("eat.components.group",[]).directive("eatGroup",a).directive("eatInputBuffet",b).directive("label",d).directive("input",c).directive("eatHelp",e).directive("eatMessages",f),a.$inject=["$eatCoreUtil"],c.$inject=["$eatCoreUtil"]}(),function(){function a(a){function b(b,c,d,e){function f(b){var c=a.isValidDate(b),d=null;return c&&(d={day:b.getDay(),month:b.getMonth()+1,year:b.getFullYear()}),i(d),d}function g(){var a=k.$viewValue;a&&(b.day=a.day,b.month=a.month,b.year=a.year),i(a)}function h(a){return i(a)?new Date(a.year,a.month-1,a.day):null}function i(b){var c=!1;if(b&&b.day&&b.month&&b.year){var d=new Date(b.year,b.month-1,b.day);c=a.isValidDate(d)}else l||b||(c=!0);if(k.$touched||j.isFormSubmitted()){var e=n[0].querySelector("[ng-model='year']").validity.valid,f=n[0].querySelector("[ng-model='month']").validity.valid,g=n[0].querySelector("[ng-model='day']").validity.valid;c=c&&e&&f&&g,k.$setValidity("date",c),j.setValid(c)}return c}c.removeAttr("label"),c.removeAttr("type"),c.removeAttr("help");var j=e[1],k=e[0];k.$formatters.push(f),k.$render=g,k.$parsers.push(h);var l=angular.isDefined(d.required);j.setRequired(l),j.setNgModel(k),b.$watch("day + month + year",function(a,c){if(c!=a){var d={year:b.year,month:b.month,day:b.day};k.$setTouched(!0),k.$setViewValue(d)}});var m=function(){return k.$invalid&&(k.$touched||j.isFormSubmitted())};b.$watch(m,j.setInvalid);var n=c}return{restrict:"EA",link:b,require:["ngModel","^eatGroup"],scope:{},template:'<eat-input-buffet><input type="number" max-length="2" min="1" max="31" ng-model="day"/><input type="number" max-length="2" min="1" max="12" ng-model="month"/><input type="number" max-length="4" min="1800" max="2500" ng-model="year"/></eat-input-buffet>'}}angular.module("eat.components.memorableDate",[]).directive("eatMemorableDate",a),a.$inject=["$eatCoreUtil"]}(),function(){function a(a){function b(b,c,d,e){function f(b){var c=(a.isValidDate(b),null);return b&&(c={day:b.amount,month:b.currency}),i(c),c}function g(){var a=k.$viewValue;a&&(b.amount=a.amount,b.currency=a.currency),i(a)}function h(a){return i(a)?{amount:a.amount,currency:a.currency}:null}function i(a){var b=!1;if(l||a||(b=!0),k.$touched||j.isFormSubmitted()){var c=n[0].querySelector("[ng-model='amount']").validity.valid,d=n[0].querySelector("[ng-model='currency']").validity.valid;b=b&&c&&d,k.$setValidity("money",b),j.setValid(b)}return b}c.removeAttr("label"),c.removeAttr("type"),c.removeAttr("help");var j=e[1],k=e[0];k.$formatters.push(f),k.$render=g,k.$parsers.push(h);var l=angular.isDefined(d.required);j.setRequired(l),j.setNgModel(k),b.$watch("currency + amount",function(a,c){if(c!=a){var d={currency:b.currency,amount:b.amount};k.$setTouched(!0),k.$setViewValue(d)}});var m=function(){return k.$invalid&&(k.$touched||j.isFormSubmitted())};b.$watch(m,j.setInvalid);var n=c}return{restrict:"EA",link:b,require:["ngModel","^eatGroup"],scope:{},template:'<eat-input-buffet class="eat-money"><select ng-model="currency"><option>EUR</option><option>GBP</option></select><span class="eat-money-currency-symbol">{{currency=="EUR"?"€":""}}{{currency=="GBP"?"£":""}}</span><input type="number" min="0" ng-model="amount"/></eat-input-buffet>'}}angular.module("eat.components.money",[]).directive("eatMoney",a),a.$inject=["$eatCoreUtil"]}();var nextUniqueId=0;!function(){function a(){function a(){return nextUniqueId++,""+nextUniqueId}var d={nextUid:a,isValidDate:b,getClosest:c};return d}function b(a){return"[object Date]"===Object.prototype.toString.call(a)?isNaN(a.getTime())?!1:!0:!1}function c(a,b,c){if(a instanceof angular.element&&(a=a[0]),b=b.toUpperCase(),c&&(a=a.parentNode),!a)return null;do if(a.nodeName===b)return a;while(a=a.parentNode);return null}angular.module("eat.core",[]).factory("$eatCoreUtil",a)}(),function(){angular.module("angular-eat",["ngMessages","eat.components","eat.core"])}();